#!/bin/sh

if [ "$1" = "version" ]; then
    echo "encore v1.0.0-mock"
    exit 0
fi

if [ "$1" = "run" ]; then
    echo "Mock Encore Run Started"
    echo "Log line 1"
    echo "Log line 2" >&2
    # Keep running to simulate a service
    trap "echo 'Stopping...'; exit 0" SIGTERM SIGINT
    while true; do
        sleep 1
    done
fi

echo "Unknown command: $@"
exit 1
